;
; Reed Contact Configuration Example
; ===================================
;
; This file demonstrates how to configure reed contacts for meter reading in the main config.ini
;
; Reed contacts are magnetic switches that can be attached to GPIO pins. They are useful for:
; - Detecting magnet passes on the meter's last digit
; - Providing intermediate readings between picture analysis
; - High-resolution value tracking with automatic drift correction
;
; Configuration Format:
; ====================
;
; In the [GPIO] section of config.ini, add reed contact configuration lines:
;
; ReedContactIO<N> = <enabled> <triggerType> <debounceMs> <digitIndex> <publishOnIncrement>
;
; Parameters:
; -----------
; - IO<N>: GPIO pin number (0, 1, 3, 4, 12, 13)
; - enabled: true/false - Enable or disable the reed contact
; - triggerType: "on-close" or "on-open" - When to trigger the increment
;   * on-close: Triggers when the reed contact closes (magnet passes)
;   * on-open: Triggers when the reed contact opens (magnet leaves)
; - debounceMs: 0-10000 - Debounce time in milliseconds (default: 500)
;   * Prevents false triggers from bouncing contacts
;   * 500ms is typically sufficient
; - digitIndex: 0-10 - Index of the digit to increment (0 = first/highest digit)
;   * Corresponds to the digit position in the NumberPost array
;   * Usually 0 or 1 for the last or second-to-last digit
; - publishOnIncrement: true/false - Publish the new value when reed increments
;   * Sends MQTT message when value changes
;   * Useful for real-time updates in home automation systems
;
; Example Configuration:
; ======================
;
; [GPIO]
; IO12 = input-pullup rising-and-falling 10 false false GPIO12
; ReedContactIO12 = true on-close 500 1 true
;
; This configuration:
; - Uses GPIO12 as an input with pull-up resistor
; - Enables interrupt on rising and falling edges (for debouncing)
; - Configures a reed contact that:
;   * Is enabled
;   * Triggers on contact close (magnetic field detected)
;   * Has a debounce delay of 500ms
;   * Increments the digit at index 1 (second digit)
;   * Publishes the new value via MQTT
;
; Important Notes:
; ================
;
; 1. GPIO Configuration:
;    - The GPIO must be configured as an input (input, input-pullup, or input-pulldown)
;    - Use input-pullup for reed contacts (most common configuration)
;    - Set interrupt type to "rising-and-falling" for best debouncing
;
; 2. Magnet Position:
;    - Position the reed contact in the meter's magnet slot
;    - Ensure the magnet passes cleanly over the reed contact
;    - The exact position depends on your meter type
;
; 3. Digit Index:
;    - Index 0 is typically the leftmost (highest) digit
;    - For most meters, use index 1 (second digit) for the last rotating digit
;    - Adjust based on your specific meter configuration
;
; 4. Debouncing:
;    - Start with 500ms debounce time
;    - Increase if you see duplicate triggers
;    - Decrease if reed contact events are missed
;
; 5. Value Increment:
;    - The value is incremented by 1 / (10^(DecimalShift + Nachkomma))
;    - This ensures proper decimal place handling
;
; 6. Consistency Checking:
;    - Reed contact increments work together with image analysis
;    - Image analysis provides drift correction
;    - MQTT publishing can be enabled for real-time feedback
;
; Example Multi-GPIO Configuration:
; ==================================
;
; [GPIO]
; IO12 = input-pullup rising-and-falling 10 false false GAS_METER_REED
; IO13 = input-pullup rising-and-falling 10 false false WATER_METER_REED
; ReedContactIO12 = true on-close 500 1 true
; ReedContactIO13 = true on-close 500 1 true
;
; This configuration handles two separate meters with independent reed contacts.
;
; Troubleshooting:
; ================
;
; If reed contact increments are not working:
; 1. Verify GPIO pin is correctly configured as input
; 2. Check reed contact is properly wired and positioned
; 3. Increase debounce time if triggers are unreliable
; 4. Verify digit index matches your meter configuration
; 5. Check device logs for reed contact trigger events
;
